<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>General &mdash; PySCF 1.1 alpha documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.1 alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="PySCF 1.1 alpha documentation" href="index.html" />
    <link rel="next" title="Version history" href="version.html" />
    <link rel="prev" title="Benchmark" href="benchmark.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="version.html" title="Version history"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="benchmark.html" title="Benchmark"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">PySCF 1.1 alpha documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="general">
<span id="code-stand"></span><h1>General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>New features first being placed in pyscf/future.</li>
<li>Code at least should work under python-2.7, gcc-4.8.</li>
<li>90/10 functional/OOP, unless performance critical, functions are pure.</li>
<li>90/10 Python/C, only computational hot spots were written in C.</li>
<li>To extend python function with C/Fortran:<ul>
<li>Following C89 standard for C code.  (complex? variable length array?)
<a class="reference external" href="http://flash-gordon.me.uk/ansi.c.txt">http://flash-gordon.me.uk/ansi.c.txt</a></li>
<li>Following Fortran 95 standard for Fortran code.
<a class="reference external" href="http://j3-fortran.org/doc/standing/archive/007/97-007r2/pdf/97-007r2.pdf">http://j3-fortran.org/doc/standing/archive/007/97-007r2/pdf/97-007r2.pdf</a></li>
<li>Do <strong>not</strong> use other program languages (to keep the package light-weight).</li>
</ul>
</li>
<li>Loose-coupling principle<ul>
<li>Reinventing-wheel is accepted (to reduce the entanglement to the
rest of the package).</li>
</ul>
</li>
<li>Not enforced but recommended
- Compatibile with Python 2.6, 2.7, 3.2, 3.3, 3.4;
- Following C89 standard for C code;
- Using ctypes to bridge C/python functions, (to keep minimal dependence on third-party tools)</li>
</ul>
<div class="section" id="name-convention">
<h2>Name convention<a class="headerlink" href="#name-convention" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The prefix or suffix underscore in the function names have special meanings<ul>
<li>functions with prefix-underscore like <tt class="docutils literal"><span class="pre">_fn</span></tt> are private functions.
They are typically not documented, and not recommended to use.</li>
<li>functions with suffix-underscore like <tt class="docutils literal"><span class="pre">fn_</span></tt> means that they have side
effects.  The side effects include the change of the input argument,
the runtime modification of the class definitions (attributes or
members), or module definitions (global variables or functions) etc.</li>
<li>regular (pure) functions do not have underscore as the prefix or suffix.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="api-convention">
<h2>API convention<a class="headerlink" href="#api-convention" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first"><tt class="xref py py-class docutils literal"><span class="pre">gto.Mole</span></tt> holds all global parameters, like the log level, the
max memory usage etc.  They are used as the default value for all
other classes.</p>
</li>
<li><p class="first">Method class.</p>
<ul>
<li><p class="first">Most QC method classes (like HF, CASSCF, FCI, ...) directly take
three attributes <tt class="docutils literal"><span class="pre">verbose</span></tt>, <tt class="docutils literal"><span class="pre">stdout</span></tt> and <tt class="docutils literal"><span class="pre">max_memory</span></tt> from
<tt class="xref py py-class docutils literal"><span class="pre">gto.Mole</span></tt>.  Overwriting them only affects the behavior of the
local instance for that method class.  In the following example,
<tt class="docutils literal"><span class="pre">mf.verbose</span></tt> screens out the noises produced by <tt class="xref py py-class docutils literal"><span class="pre">RHF</span></tt>
method, and the output of <tt class="xref py py-class docutils literal"><span class="pre">MP2</span></tt> is written in the log file
<tt class="docutils literal"><span class="pre">example.log</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyscf</span> <span class="kn">import</span> <span class="n">gto</span><span class="p">,</span> <span class="n">scf</span><span class="p">,</span> <span class="n">mp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mol</span> <span class="o">=</span> <span class="n">gto</span><span class="o">.</span><span class="n">M</span><span class="p">(</span><span class="n">atom</span><span class="o">=</span><span class="s">&#39;H 0 0 0; H 0 0 1&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mf</span> <span class="o">=</span> <span class="n">scf</span><span class="o">.</span><span class="n">RHF</span><span class="p">(</span><span class="n">mol</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mf</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mf</span><span class="o">.</span><span class="n">kernel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp2</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">MP2</span><span class="p">(</span><span class="n">mf</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp2</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;example.log&#39;</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp2</span><span class="o">.</span><span class="n">kernel</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p class="first">Method class are only to hold the options or enviroments (like
convergence threshold, max iterations, ...) to control the
behavior/convergence of the method.  The intermediate status are
<strong>not</strong> supposed to be saved in the method class (during the
computation).  However, the final results or solutions are kept in
the method object for convenience.  Once the results are stored in
the particular method class, they are assumed to be read only, since
many class member functions take them as the default arguments if the
caller didn&#8217;t provide enough parameters.</p>
</li>
<li><p class="first">In __init__ function, initialize/define the problem size.  The
problem size parameters (like num orbitals etc) can be considered as
enviroments.  They are not supposed to be changed by other functions.</p>
</li>
<li><p class="first">Kernel functions
Although the method classes have various entrance/main funtion, many
of them provide an entrance function called <tt class="docutils literal"><span class="pre">kernel</span></tt>.  You can
simply call the <tt class="docutils literal"><span class="pre">kernel</span></tt> function and it will guide the program
flow to the right main function.</p>
</li>
<li><p class="first">Default value of the class member functions&#8217; arguments.  Many member
functions can take the results of their class as the default arguments.</p>
</li>
</ul>
</li>
<li><p class="first">Function arguments</p>
<ul class="simple">
<li>First argument is handler.  The handler is one of <tt class="xref py py-class docutils literal"><span class="pre">gto.Mole</span></tt>
object, a mean-field object, or a post-Hartree-Fock object.</li>
</ul>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">General</a><ul>
<li><a class="reference internal" href="#name-convention">Name convention</a></li>
<li><a class="reference internal" href="#api-convention">API convention</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="benchmark.html"
                        title="previous chapter">Benchmark</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="version.html"
                        title="next chapter">Version history</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/code-rule.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="version.html" title="Version history"
             >next</a> |</li>
        <li class="right" >
          <a href="benchmark.html" title="Benchmark"
             >previous</a> |</li>
        <li><a href="index.html">PySCF 1.1 alpha documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015-, Qiming Sun &lt;osirpt.sun@gmail.com&gt;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>